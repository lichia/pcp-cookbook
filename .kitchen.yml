---
driver:
  name: docker
  socket: <%= ENV['DOCKER_HOST'] %>

provisioner:
  name: chef_solo
  require_chef_omnibus: "11.18.6"

platforms:
# centos/6.6
# https://vagrantcloud.com/coremedia/boxes/base
- name: centos6-vagrant
  driver:
    name: vagrant
    box: coremedia/base
    box_version: 1.15.0
    provider: virtualbox
    customize:
      memory: 1024
      cpus: 2
      cpuexecutioncap: 90
    network:
    - ['private_network',{ ip: '192.168.252.100' }]
# centos6 latest
# https://registry.hub.docker.com/_/centos/
#- name: centos6-docker
#  driver:
#    name: docker
#    image: centos:centos6
#    platform: centos

#- name: ubuntu-14.04-vagrant
#  driver:
#    name: vagrant
#    box: chef/ubuntu-14.04
#    provider: vmware_fusion
#    customize:
#      memory: 1024
#      numvcpus: 2

#- name: ubuntu-14.04-docker
#  driver:
#    name: docker
#    image: ubuntu:14.04.1
#    platform: ubuntu

suites:
- name: pcp
  run_list:
    - recipe[pcp::default]
    - recipe[pcp::vector]
  attributes:
    pcp:
      nginx:
        fqdn: pcp-centos6-vagrant
        disable_default_site: true
      yum:
        baseurl: http://mirror.coremedia.vm/coremedia-pcp/el/6/$basearch
    dev_mode: true 
